<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>UI Lib - Living Documentation</title>
  <link rel="stylesheet" href="./styles.css">
</head>
<body class="ui-app-shell">
  <template data-type="pug" data-src="./index.pug"></template>
  <script src="./debug-grid.js"></script>
  <script>
    const DEBUG_CLASSES = ['ui-debug-grid', 'ui-debug-grid-rows', 'ui-debug-baseline', 'ui-debug-outline'];

    function getDebugParams() {
      return new URLSearchParams(window.location.search);
    }

    function updateUrl(params) {
      const newUrl = params.toString()
        ? `${window.location.pathname}?${params}${window.location.hash}`
        : `${window.location.pathname}${window.location.hash}`;
      window.history.replaceState({}, '', newUrl);
    }

    function toggleDebug(className) {
      document.body.classList.toggle(className);
      const params = getDebugParams();
      if (document.body.classList.contains(className)) {
        params.set(className, '1');
      } else {
        params.delete(className);
      }
      updateUrl(params);
    }

    const params = getDebugParams();
    DEBUG_CLASSES.forEach(className => {
      if (params.get(className) === '1') {
        document.body.classList.add(className);
      }
    });
  </script>
</body>
</html>
