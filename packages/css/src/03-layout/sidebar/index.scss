@layer primitives {
  .sidebar {
    display: flex;
    flex-direction: column;
    position: fixed;
    inset-block-start: 0;
    inset-inline-start: 0;
    z-index: var(--z-sticky);

    block-size: 100vh;
    inline-size: var(--sidebar-width, calc(var(--unit) * 30));
    overflow-y: auto;

    background: var(--ui-color-bg-subtle);
    box-shadow: inset calc(var(--ui-border-width-sm) * -1) 0 0 0 var(--ui-color-border);
  }

  /* Width modifiers */
  .sidebar--sm { --sidebar-width: calc(var(--unit) * 24); }
  .sidebar--md { --sidebar-width: calc(var(--unit) * 30); }
  .sidebar--lg { --sidebar-width: calc(var(--unit) * 40); }

  /* Position modifier - sidebar on end (right in LTR) */
  .sidebar--end {
    inset-inline-start: auto;
    inset-inline-end: 0;

    box-shadow: inset var(--ui-border-width-sm) 0 0 0 var(--ui-color-border);
  }
}
